<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Usage &middot; Gr-plc
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

     <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Gr-plc
        </a>
      </h1>
      <p class="lead">Open IEEE 1901 Software Implementation</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      
        
      
        
          
            <a class="sidebar-nav-item active" href="/usage.html">Usage</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/faq.html">FAQ</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/demo.html">Demo</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/installation.html">Installation</a>
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/roeebar/gr-plc/archive/master.zip">Download</a>
      <a class="sidebar-nav-item" href="https://github.com/roeebar/gr-plc">View on GitHub</a>
      <!--<span class="sidebar-nav-item">Currently v</span>-->
    </nav>

    <p>&copy; 2016. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Usage</h1>
  <p>The gr-plc module includes the following GNU Radio blocks:</p>
<ul>
  <li>PHY Rx - receives IEEE 1901-like frames</li>
  <li>PHY Tx - transmits IEEE 1901-like frame</li>
  <li>PHY - an hierarchy block that includes the PHY Rx and PHY Tx</li>
  <li>MAC - a simplified IEEE 1901 MAC layer</li>
  <li>APP In - a simple APP layer sink</li>
  <li>APP Out - a simple APP layer source</li>
</ul>

<p>The important blocks are the PHY Rx and PHY Tx which contain the actual implementation of the IEEE 1901 physical layer.</p>

<p>The MAC block implements a simplified IEEE 1901 MAC layer and performs master-slave channel access (see <a href="/faq.html#more_details">more details</a>).</p>

<p>A typical two-transceiver flow graph is given in <em>examples/plc.grc</em> and is illustrated below:</p>

<p><img src="images/transceiver.png" alt="" /></p>

<p>The top part is the master station transceiver, and the bottom part is the slave station transceiver. The master station includes a file source that feeds the APP Out block with a continuous bit stream. The data is processed through the MAC and PHY blocks and then goes to the USRP block. The USRP block sends the signal to an actual USRP hardware through the Ethernet port. The USRP hardware is connected to the powerline.</p>

<p>The powerline is also connected to another USRP hardware, representing the slave station. The USRP sends the data through the same Ethernet port to the slave station USRP block shown in the bottom part of Figure 3.8. Samples from the USRP block are processed through the PHY and MAC blocks and eventually saved to a file through the APP In block.</p>

<p>The two USRP physical devices are paired using a special MIMO cable. This connection synchronizes the two USPRs internal oscillators to avoid a carrier frequency offset.</p>

<p>The return path, from the slave to the master, is not going through the USRP blocks. Instead, the slave PHY block output is fed directly to the master station PHY block.</p>

<h4 id="blocks-parameters">Blocks Parameters</h4>

<p>Several parameters in the MAC block are easily configurable. The parameters are described as follows:</p>
<ul>
  <li>Role: The parameter sets whether a block is a master or a slave.</li>
  <li>Address: The parameter sets the station address. This value is used when the MAC frame is constructed.</li>
  <li>Dest Address: The parameter sets the destination station address. This value is used when the MAC frame is formed.</li>
  <li>Tone Mode: The parameter sets the tone mode for the station: Standard ROBO, High-Speed ROBO, Mini ROBO or no ROBO mode which uses the negotiated tone map.</li>
  <li>Broadcast Mask: The parameter is a mask of 2048 bits which sets the default tone mask.</li>
  <li>Sync Mask: The parameter is a mask of 256 bits which sets the tone mask for the preamble SYNCP and SYNCM symbols.</li>
  <li>QPSK Mask: The parameter is a mask of 2048 bits which determines which carriers should be forced to QPSK modulation during the bit loading calculation.</li>
  <li>Target BER: The parameter sets the target BER for the bit loading calculation.</li>
  <li>Channel Estimation: The parameter sets the channel estimation method used by the station.</li>
  <li>Inter-frame Space: The parameter sets the minimum space between two adjacent transmitted frames.</li>
</ul>

<p>The PHY block parameters are described as follow:</p>
<ul>
  <li>Sensitivity: The parameter corresponds to the preamble detection threshold.</li>
  <li>Gain: The parameter controls the transmitted signal gain.</li>
</ul>

<p>The Log parameter controls the amount of trace information generated by the block.</p>

<p><em>NOTE: when running the flow graph inside GNU Radio Companion, make sure that the Log parameter is set to “Notice” in all blocks. Otherwise, GRC will become unresponsive as the output window is filled with trace information</em></p>

</div>

    </div>

  </body>
</html>
